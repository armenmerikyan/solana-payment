<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solana Payment</title>
</head>
<body>
    <h1>Send Solana with Phantom Wallet</h1>
    <button id="connectWallet">Connect Wallet</button>
    <button id="sendSolana" disabled>Send 0.01 SOL</button>

    <p id="walletAddress"></p>

    <script src="index.js"></script>
    <script>
        // Function to get query parameters
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Get 'amount' and 'recipient' from the query string
        const amount = getQueryParam('amount');
        const recipientAddress = getQueryParam('recipient');

        // Dynamically update the "Send" button text if the 'amount' is provided
        if (amount) {
            const sendButton = document.getElementById('sendSolana');
            sendButton.innerText = `Send ${amount} SOL`;
            sendButton.disabled = false; // Enable the button if amount is provided
        }

        // Update `index.js` with dynamic values for amount and recipient
        window.transactionParams = {
            amount: amount ? parseFloat(amount) : 0.01, // Default to 0.01 SOL
            recipientAddress: recipientAddress || "default_recipient_address",
        };
    </script>
</body>
</html>
